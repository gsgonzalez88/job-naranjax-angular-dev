import { parse } from "node-html-parser";
import axios from "axios";
import fs from "fs";
import shell from "shelljs";

// Gathers needed git commands for bash to execute per provided contribution data.
const getCommand = (contribution) => {
  return `GIT_AUTHOR_DATE=${contribution.date}T12:00:00 GIT_COMMITER_DATE=${contribution.date}T12:00:00 git commit --allow-empty -m "Rewriting History!" > /dev/null\n`.repeat(
    contribution.count
  );
};

//change and add gitlab option

export default async (input) => {
  // Returns contribution graph html for a full selected year.
/*   const res = await axios.get(
    `https://gitlab.com/U0164638`
  );
 */
    //title="10 contributions<br /><span class="gl-text-gray-300">Wednesday Jul 14, 2021</span>"
  // Retrieves needed data from the html, loops over green squares with 1+ contributions,
  // and produces a multi-line string that can be run as a bash command.
  const script = parse('<svg width="476" height="167" class="contrib-calendar"><g transform="translate(18, 18)"><rect x="0" y="51" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-07-14</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-07-15</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-07-16</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-07-17</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(35, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-07-18</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-07-19</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-07-20</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-07-21</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-07-22</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="1" title="3 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-07-23</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-07-24</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(52, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-07-25</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="2" title="10 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-07-26</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="1" title="2 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-07-27</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="2" title="13 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-07-28</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="1" title="3 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-07-29</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="2" title="17 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-07-30</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-07-31</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(69, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-01</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-02</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-03</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="1" title="2 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-04</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="1" title="1 contribution<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-05</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="1" title="2 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-06</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-07</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(86, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-08</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="1" title="4 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-09</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="2" title="13 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-10</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="1" title="5 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-11</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="1" title="4 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-12</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="3" title="23 contributions<br /><span class=&quot;gl-text-gray-300&quot;>13</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-14</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(103, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-15</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-16</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-17</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-18</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="1" title="6 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-19</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-20</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-21</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(120, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-22</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="1" title="2 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-23</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-24</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-25</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-26</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="1" title="5 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-27</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-28</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(137, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-29</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="1" title="6 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-30</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-08-31</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-01</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="1" title="8 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-02</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="1" title="3 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-03</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-04</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(154, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-05</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="1" title="4 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-06</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="1" title="5 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-07</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="1" title="9 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-08</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="1" title="4 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-09</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="1" title="1 contribution<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-10</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-11</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(171, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-12</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-13</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-14</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-15</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-16</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-17</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-18</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(188, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-19</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="1" title="3 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-20</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="1" title="3 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-21</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="1" title="7 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-22</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="1" title="3 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-23</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="1" title="6 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-24</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-25</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(205, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-26</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-27</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-28</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-29</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="1" title="4 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-09-30</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-01</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-02</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(222, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-03</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="1" title="3 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-04</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-05</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="1" title="1 contribution<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-06</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="1" title="7 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-07</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-08</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-09</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(239, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-10</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-11</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="1" title="1 contribution<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-12</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="2" title="13 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-13</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="2" title="13 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-14</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-15</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-16</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(256, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-17</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="1" title="2 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-18</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="1" title="4 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-19</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="1" title="5 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-20</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-21</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="1" title="5 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-22</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-23</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(273, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-24</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="1" title="5 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-25</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-26</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="1" title="5 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-27</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="1" title="5 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-28</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="1" title="2 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-29</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-30</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(290, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-10-31</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="1" title="2 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-01</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-02</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="1" title="3 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-03</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="1" title="7 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-04</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="1" title="2 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-05</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-06</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(307, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-07</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="1" title="1 contribution<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-08</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-09</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="1" title="5 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-10</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="1" title="7 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-11</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="2" title="14 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-12</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-13</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(324, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-14</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="1" title="4 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-15</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="1" title="6 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-16</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="1" title="3 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-17</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="3" title="27 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-18</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-19</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-20</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(341, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-21</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-22</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-23</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="1" title="1 contribution<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-24</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="2" title="14 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-25</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="2" title="11 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-26</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-27</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(358, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-28</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="3" title="23 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-29</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="1" title="8 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-11-30</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="1" title="5 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-01</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="1" title="3 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-02</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-03</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-04</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(375, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-05</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-06</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-07</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-08</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-09</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="1" title="2 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-10</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-11</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(392, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-12</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="1" title="3 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-13</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="1" title="4 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-14</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="1" title="9 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-15</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="1" title="4 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-16</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-17</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-18</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(409, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-19</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-20</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-21</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="1" title="5 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-22</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="1" title="8 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-23</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-24</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-25</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(426, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-26</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="1" title="7 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-27</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-28</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="1" title="1 contribution<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-29</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="2" title="14 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-30</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2021-12-31</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2022-01-01</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(443, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2022-01-02</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="1" title="1 contribution<br /><span class=&quot;gl-text-gray-300&quot;>2022-01-03</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="1" title="4 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2022-01-04</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="1" title="2 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2022-01-05</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="1" title="7 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2022-01-06</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2022-01-07</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="102" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2022-01-08</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g transform="translate(460, 18)"><rect x="0" y="0" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2022-01-09</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="17" width="15" height="15" data-level="1" title="1 contribution<br /><span class=&quot;gl-text-gray-300&quot;>2022-01-10</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="34" width="15" height="15" data-level="1" title="2 contributions<br /><span class=&quot;gl-text-gray-300&quot;>2022-01-11</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="51" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2022-01-12</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="68" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>2022-01-13</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect><rect x="0" y="85" width="15" height="15" data-level="0" title="No contributions<br /><span class=&quot;gl-text-gray-300&quot;>Friday Jan 14, 2022</span>" class="user-contrib-cell has-tooltip" data-html="true" data-container="body"></rect></g><g direction="ltr"><text x="35" y="10" class="user-contrib-text">Jul</text><text x="69" y="10" class="user-contrib-text">Aug</text><text x="154" y="10" class="user-contrib-text">Sep</text><text x="222" y="10" class="user-contrib-text">Oct</text><text x="307" y="10" class="user-contrib-text">Nov</text><text x="375" y="10" class="user-contrib-text">Dec</text><text x="443" y="10" class="user-contrib-text">Jan</text></g><g><text text-anchor="middle" x="8" y="46" class="user-contrib-text">M</text><text text-anchor="middle" x="8" y="80" class="user-contrib-text">W</text><text text-anchor="middle" x="8" y="114" class="user-contrib-text">F</text></g><g transform="translate(18, 152)"><rect width="15" height="15" x="0" y="0" data-level="0" class="user-contrib-cell has-tooltip contrib-legend" title="No contributions" data-container="body" data-html="true"></rect><rect width="15" height="15" x="17" y="0" data-level="1" class="user-contrib-cell has-tooltip contrib-legend" title="1-9 contributions" data-container="body" data-html="true"></rect><rect width="15" height="15" x="34" y="0" data-level="2" class="user-contrib-cell has-tooltip contrib-legend" title="10-19 contributions" data-container="body" data-html="true"></rect><rect width="15" height="15" x="51" y="0" data-level="3" class="user-contrib-cell has-tooltip contrib-legend" title="20-29 contributions" data-container="body" data-html="true"></rect><rect width="15" height="15" x="68" y="0" data-level="4" class="user-contrib-cell has-tooltip contrib-legend" title="30+ contributions" data-container="body" data-html="true"></rect></g></svg>')
    .querySelectorAll("[data-level]")
    .filter((element) => !element.attributes["title"].startsWith('No contribution') && element.attributes["title"].indexOf('">') !== -1)
    .map((el) => {

      let indexStart = el.attributes["title"].indexOf('">') + 2;
      let indexEnd = el.attributes["title"].indexOf('</');
      /* console.log('">', el.attributes["title"].indexOf('">')); */
      return {
        date: el.attributes["title"].substring(indexStart, indexEnd),
        count: parseInt(el.attributes["title"].substring(0,2)),
      };
    })
    .map((contribution) => getCommand(contribution))
    .join("")
    .concat("git pull origin main\n", "git push -f origin main")

    console.log('script',script)

  fs.writeFile("script.sh", script, () => {
    console.log("\nFile was created successfully.");

    if (input.execute) {
      console.log("This might take a moment!\n");
      shell.exec("sh ./script.sh");
    }
  });
};
